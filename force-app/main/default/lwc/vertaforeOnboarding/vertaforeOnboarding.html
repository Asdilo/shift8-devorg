<template>
    <lightning-card>
        <div slot="title">
            <img style="max-height: 3rem" alt="Sircon by Vertafore" src={sirconImgUrl}>
        </div>
        <lightning-button label="New Service Request" slot="actions" variant="brand" onclick={modalOpen}></lightning-button>
        <div class="slds-var-p-around_medium slds-theme_shade slds-border_top">
            <lightning-accordion allow-multiple-sections-open active-section-name={activeSections}>
                <div class="slds-box slds-box_x-small slds-theme_default slds-var-m-bottom_medium">
                    <lightning-accordion-section name="One" label="Service Request Alpha">
                        <div slot="actions">
                            <div class="slds-text-heading_small">
                                <lightning-icon icon-name="utility:clock" size="x-small" alternative-text="In Progress" title="In Progress"></lightning-icon>
                                <span class="slds-var-p-left_x-small">In Progress</span>
                            </div>
                        </div>
                        <div class="slds-progress slds-progress_vertical">
                            <ol class="slds-progress__list">
                                <li class="slds-progress__item slds-is-completed">
                                    <span class="slds-icon_container slds-icon-utility-success slds-progress__marker slds-progress__marker_icon" title="Complete">
                                        <lightning-icon icon-name="utility:success" size="x-small" alternative-text="Complete" title="Complete"></lightning-icon>
                                        <span class="slds-assistive-text">Complete</span>
                                    </span>
                                    <div class="slds-progress__item_content slds-grid slds-grid_align-spread">Step 1 -
                                        Lorem ipsum dolor sit amet. Completed MM/DD/YYYY</div>
                                </li>
                                <li class="slds-progress__item slds-is-active">
                                    <div class="slds-progress__marker">
                                        <span class="slds-assistive-text">Active</span>
                                    </div>
                                    <div class="slds-progress__item_content slds-grid slds-grid_align-spread">Step 2 -
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit.</div>
                                </li>
                                <li class="slds-progress__item">
                                    <div class="slds-progress__marker"></div>
                                    <div class="slds-progress__item_content slds-grid slds-grid_align-spread">Step 3 -
                                        Lorem ipsum dolor sit amet. </div>
                                </li>
                                <li class="slds-progress__item">
                                    <div class="slds-progress__marker"></div>
                                    <div class="slds-progress__item_content slds-grid slds-grid_align-spread">Step 4 -
                                        consectetur adipiscing elit.</div>
                                </li>
                            </ol>
                            <div aria-valuemin="0" aria-valuemax="100" aria-valuenow="25" role="progressbar">
                                <span class="slds-assistive-text">Progress: 25%</span>
                            </div>
                        </div>
                    </lightning-accordion-section>
                </div>
                <div class="slds-box slds-box_x-small slds-theme_default slds-var-m-bottom_medium">
                    <lightning-accordion-section name="Two" label="Service Request Bravo">
                        <div slot="actions">
                            <div class="slds-text-heading_small">
                                <lightning-icon icon-name="utility:success" variant="success" size="x-small" alternative-text="Complete" title="Complete"></lightning-icon>
                                <span class="slds-var-p-left_x-small">Complete</span>
                            </div>
                        </div>
                        <div class="slds-progress slds-progress_vertical">
                            <ol class="slds-progress__list">
                                <li class="slds-progress__item slds-is-completed">
                                    <span class="slds-icon_container slds-icon-utility-success slds-progress__marker slds-progress__marker_icon" title="Complete">
                                        <lightning-icon icon-name="utility:success" size="x-small" alternative-text="Complete" title="Complete"></lightning-icon>
                                        <span class="slds-assistive-text">Complete</span>
                                    </span>
                                    <div class="slds-progress__item_content slds-grid slds-grid_align-spread">Step 1 -
                                        Lorem ipsum dolor sit amet. Completed MM/DD/YYYY</div>
                                </li>
                                <li class="slds-progress__item slds-is-completed">
                                    <span class="slds-icon_container slds-icon-utility-success slds-progress__marker slds-progress__marker_icon" title="Complete">
                                        <lightning-icon icon-name="utility:success" size="x-small" alternative-text="Complete" title="Complete"></lightning-icon>
                                        <span class="slds-assistive-text">Complete</span>
                                    </span>
                                    <div class="slds-progress__item_content slds-grid slds-grid_align-spread">Step 2 -
                                        Sonsectetur adipiscing elit. Completed MM/DD/YYYY</div>
                                </li>
                                <li class="slds-progress__item slds-is-completed">
                                    <span class="slds-icon_container slds-icon-utility-success slds-progress__marker slds-progress__marker_icon" title="Complete">
                                        <lightning-icon icon-name="utility:success" size="x-small" alternative-text="Complete" title="Complete"></lightning-icon>
                                        <span class="slds-assistive-text">Complete</span>
                                    </span>
                                    <div class="slds-progress__item_content slds-grid slds-grid_align-spread">Step 3 -
                                        Lorem ipsum dolor sit amet. Completed MM/DD/YYYY </div>
                                </li>
                            </ol>
                            <div aria-valuemin="0" aria-valuemax="100" aria-valuenow="100" role="progressbar">
                                <span class="slds-assistive-text">Progress: 100%</span>
                            </div>
                        </div>
                    </lightning-accordion-section>
                </div>
            </lightning-accordion>

        </div>
        <div class="slds-text-align_center slds-border_top slds-var-p-top_medium">
            <a href={linkUrl} target="_blank">{linkText}</a>
        </div>
    </lightning-card>

    <!-- MODAL START -->
    <template if:true={isModalOpen}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={modalClose}>
                    <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small">
                    </lightning-icon>
                    <span class="slds-assistive-text">Cancel and Close</span>
                </button>
                <div class="slds-modal__header">
                    <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Create New Service Request</h1>
                </div>
                <div class="slds-modal__content slds-var-p-around_medium" id="modal-content-id-1">
                    <p><b>Instruction text here</b> Sit nulla est ex deserunt exercitation anim occaecat. Nostrud
                        ullamco deserunt aute id consequat veniam incididunt duis in sint irure nisi. Mollit officia
                        cillum Lorem ullamco minim nostrud elit officia tempor esse quis. Cillum sunt ad dolore quis
                        aute consequat ipsum magna exercitation reprehenderit magna. Tempor cupidatat consequat elit
                        dolor adipisicing.</p>
                    <div class="slds-grid slds-wrap slds-gutters slds-var-p-around_small">
                        <lightning-combobox class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-var-m-bottom_small" name="orequestType" label="Type" value="" placeholder="Select Service Request Type" options={options} onchange={handleComboChange} required></lightning-combobox>
                    </div>
                    <div class="slds-grid slds-wrap slds-gutters slds-var-p-around_small">
                        <lightning-input class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-var-m-bottom_small" type="text" name="fname" label="First Name" value="Contact F. Name" readonly></lightning-input>
                        <lightning-input class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-var-m-bottom_small" type="text" name="lname" label="Last Name" value="Contact L. Name" readonly></lightning-input>
                        <lightning-input class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-var-m-bottom_small" type="email" name="email" label="Email" value="contact@email.com" readonly></lightning-input>
                    </div>
                </div>
                <div class="slds-modal__footer">
                    <lightning-button label="Cancel" class="slds-var-m-right_small" onclick={modalClose}>
                    </lightning-button>
                    <lightning-button label="Save &amp; Create" variant="brand" onclick={modalClose}></lightning-button>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
    </template>
    <!-- MODAL END -->

</template>